% !TEX ROOT = ../root.tex

\begin{tikzpicture}
\tikzmath{
	\hx=1.75; \hy=1.75; \hyy=-1.25;
	\cx=0.40; \cy=0.5;
	\dds=0.035;
	\xintrsct=\cx;
	\xright=0.85;
	\slp=0.5;
	\bx=1.5; \mMm=-0.15; \bBb=1;
	\cXx=0.2; \dXx=0.06;
}
\tikzstyle{every node}=[font=\footnotesize]

% draw axes
\draw[->] (0,\hyy) -- (0,\hy) node[anchor=east] {$z_2$};
\draw[<->] (-\hx,0) -- (\hx,0) node[anchor=north] {$z_1$};
\foreach \x in {-1,-0.5,0.5,1} \draw[] (\x,-\dds) -- (\x,\dds);
\foreach \y in {-1,-0.5,0.5,1} \draw[] (-\dds,\y) -- (\dds,\y);
% draw trust region
\draw[densely dashed,red,fill=red,fill opacity=0.2] (\cx,\cy) circle (0.5);
% \node[anchor=south,red,name=tr] at (\cx+0.3,\cy+0.65) {$\| \z - \zb \|_2 \leq \tr$};
% \draw[] (tr.south) to[out=-90,in=90] (\cx,\cy+0.45);
% draw zb
\filldraw[black] (\cx,\cy) circle (1.5pt) node[anchor=south east,yshift=-0.1cm] {$\zb$};
% draw ncvx constraint
\draw[thick,domain=-1:\hy,smooth,variable=\x,blue] plot ({\x},{\slp*\x*\x});
\node[anchor=south,name=ncvx,blue] at (-1,0.5) {$\fne_1(\z)=0$};
% draw cvx linearization
\draw[thick,domain=-0.5:\hy,smooth,variable=\x,dashed,red] plot ({\x},{2*\slp*\xintrsct*\x-\slp*\xintrsct*\xintrsct});
\node[anchor=north,name=cvx,red] at (-0.5,-0.25) {$\fneb_1(\z,\zb)=0$};
% draw inequality g1
\draw[thick,domain=-0.5:\hy,smooth,variable=\x,darkgreen] plot ({\x},{\mMm*\x+\bBb});
\draw[darkgreen,->] (\cXx-0.0707,\mMm*\cXx+\bBb+0.0707) -- ++(\dXx,-\dXx/\mMm);
\node[anchor=south,darkgreen] at (-1,1.1) {$\fc_1(\z) \leq 0$};
% draw inequality g2
\draw[thick,darkgreen] (\bx,-1) -- (\bx,1.5);
\draw[darkgreen,->] (\bx-0.1,-0.8) -- ++(-0.4,0); 
\node[anchor=north,darkgreen] at (\bx,-1) {$\fc_2(\z)\leq0$};


\end{tikzpicture}